<div class="container-fluid bg-light" style="min-height: 100vh;">
    <div class="auth-layout bg-white mt-5" style="padding-left: 0; padding-right: 0">
        <div class="row">
            <div class="col-12">
                <div class="shadow-sm px-4 py-4">
                    <h4>Đăng ký tài khoản</h4>
                    <p class="form__sub-title" style="color: silver;">Đăng ký ngay để tận hưởng những ưu đãi từ cửa hàng
                    </p>
                    <p-dialog header="Thành công" [(visible)]="isVisibleSuccess" [modal]="true" [style]="{width: '400px'}"
                    [draggable]="true" [resizable]="true">
                    <div class="d-flex flex-column">
                        <p><i class="fal fa-check-circle me-2"></i>Đăng ký thành công</p>
                        <button routerLink="/login" class="w-100 btn btn-success mt-3">
                            <span class="text-white">Đăng nhập ngay</span>
                        </button>
                    </div>
                    </p-dialog>
                    <p-dialog header="Thất bại" [(visible)]="isVisibleFail" [modal]="true" [style]="{width: '400px'}"
                    [draggable]="true" [resizable]="true">
                        <p><i class="fal fa-exclamation-triangle me-3"></i>Email đã tồn tại</p>
                    </p-dialog>
                    <form [formGroup]="form" (submit)="onSubmit()">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="mb-3">
                                    <label for="email" class="form-label"> Email </label>
                                    <input formControlName="email" placeholder="Nhập địa chỉ email của bạn" type="email"
                                        class="form-control" id="email" aria-describedby="emailHelp">
                                    <div class="error" role="alert" *ngIf="email!.invalid && isSubmit">
                                        <p><i class="fal fa-exclamation-triangle me-2"></i>Email không hợp lệ</p>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="position-relative">
                                        <label for="pw" class="form-label">Mật khẩu</label>
                                        <input formControlName="password" placeholder="Nhập mật khẩu của bạn"
                                            type="{{type}}" class="form-control" id="pw">
                                        <div class="error" role="alert" *ngIf="password!.invalid && isSubmit">
                                            <p><i class="fal fa-exclamation-triangle me-2"></i>Password phải có bao gồm chữ
                                                và số, có it nhất 1 kí tự viết hoa và 1 kí tự đặc biệt và tối thiểu 6 kí tự
                                            </p>
                                        </div>
                                        <div class="position-absolute eye">
                                            <i (click)="toggle()" [className]="type === 'password' ? 'fal fa-eye' : 'fal fa-eye-slash' "></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="mb-3">
                                    <label for="fullName" class="form-label">Họ và tên</label>
                                    <input formControlName="fullName" placeholder="Nhập họ tên của bạn" type="email"
                                        class="form-control" id="fullName" aria-describedby="emailHelp">
                                    <div class="error" role="alert" *ngIf="fullName!.invalid && isSubmit">
                                        <p><i class="fal fa-exclamation-triangle me-2"></i>
                                            Vui lòng nhập họ và tên của bạn
                                        </p>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Số điện thoại</label>
                                    <input formControlName="phone" placeholder="Nhập số điện thoại của bạn"
                                        type="text" class="form-control" id="phone">
                                    <div class="error" role="alert" *ngIf="phone!.invalid && isSubmit">
                                        <p><i class="fal fa-exclamation-triangle me-2"></i>
                                            Số điện thoại không hợp lệ
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="mt-3 text-danger d-block mb-3" routerLink="/login">Đăng nhập ngay</a>
                        <button [disabled]="isLoading" type="submit" class="btn-register w-100">
                            <span *ngIf="!isLoading; else loading">Đăng ký</span>
                            <ng-template #loading>
                                <div class="spinner-border spinner-border-md text-light" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </ng-template>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>